{"version":3,"sources":["px-map-behavior-tile-layer.es6.js"],"names":["window","PxMapBehavior","TileLayerImpl","properties","url","type","String","observer","decodeUrl","Boolean","value","canAddInst","length","createInst","options","L","tileLayer","updateInst","lastOptions","nextOptions","elementInst","setUrl","getInstOptions","decodeURI","TileLayer","Layer"],"mappings":"aAAA;;;;;;;;;;;;;;;GAiBA,CAAC,UAAW,CACV,aAEA;;gFAIA,+CACAA,OAAOC,aAAP,CAAwBD,OAAOC,aAAP,EAAwB,EAAhD,CAEA;;;KAIAA,cAAcC,aAAd,CAA8B,CAC5BC,WAAY,CACV;;;;;;;;;;;;;SAcAC,IAAK,CACHC,KAAMC,MADH,CAEHC,SAAU,kBAFP,CAfK,CAoBV;;;;;;;SAQAC,UAAW,CACTH,KAAMI,OADG,CAETC,MAAO,KAFE,CAGTH,SAAU,kBAHD,CA5BD,CADgB,CAoC5BI,UApC4B,sBAoCf,CACX,MAAQ,OAAO,MAAKP,GAAZ,GAAoB,QAArB,EAAkC,KAAKA,GAAL,CAASQ,MACnD,CAtC2B,CAwC5BC,UAxC4B,qBAwCjBC,OAxCiB,CAwCR,CAClB,MAAOC,GAAEC,SAAF,CAAYF,QAAQV,GAApB,CACR,CA1C2B,CA4C5Ba,UA5C4B,qBA4CjBC,WA5CiB,CA4CJC,WA5CI,CA4CS,CACnC,GAAID,YAAYd,GAAZ,GAAoBe,YAAYf,GAApC,CAAyC,CACvC,KAAKgB,WAAL,CAAiBC,MAAjB,CAAwBF,YAAYf,GAApC,CACD,CACF,CAhD2B,CAkD5BkB,cAlD4B,0BAkDX,CACf,MAAO,CACLlB,IAAK,KAAKI,SAAL,CAAiBe,UAAU,KAAKnB,GAAf,CAAjB,CAAuC,KAAKA,GAD5C,CAGR,CAtD2B,CAA9B,CAwDA,6BACA,uBACAH,cAAcuB,SAAd,CAA0B,CACxBvB,cAAcwB,KADU,CAExBxB,cAAcC,aAFU,CAI3B,CA5ED","file":"px-map-behavior-tile-layer.js","sourcesContent":["/**\n * @license\n * Copyright (c) 2018, General Electric\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function() {\n  'use strict';\n\n  /****************************************************************************\n   * BEHAVIORS\n   ****************************************************************************/\n\n  /* Ensures the behavior namespace is created */\n  window.PxMapBehavior = (window.PxMapBehavior || {});\n\n  /**\n   *\n   * @polymerBehavior PxMapBehavior.TileLayer\n   */\n  PxMapBehavior.TileLayerImpl = {\n    properties: {\n      /**\n       * A template string that will be converted into a URL used to call the tile\n       * service. Should be in the following format:\n       *\n       *    `http://{s}.somedomain.com/blabla/{z}/{x}/{y}.png`\n       *\n       * The following values will be substituted for letters in `{}` brackets:\n       *\n       * - `{s}`: a subdomain to call to allow the browser to make many parallel requests\n       * - `{z}`: the map zoom level\n       * - `{x}` and `{y}`: the coordinates for the tile\n       *\n       * @type {String}\n       */\n      url: {\n        type: String,\n        observer: 'shouldUpdateInst'\n      },\n\n      /**\n       * Forces the component to call decodeURI on the `url` attribute before\n       * passing it to the tile service. Use this if your `url` is getting\n       * encoded by the browser before requests are sent (this can happen if\n       * you set the URL attribute with a string instead of data binding).\n       *\n       * @type {Boolean}\n       */\n      decodeUrl: {\n        type: Boolean,\n        value: false,\n        observer: 'shouldUpdateInst'\n      }\n    },\n\n    canAddInst() {\n      return (typeof this.url === 'string') && this.url.length;\n    },\n\n    createInst(options) {\n      return L.tileLayer(options.url);\n    },\n\n    updateInst(lastOptions, nextOptions) {\n      if (lastOptions.url !== nextOptions.url) {\n        this.elementInst.setUrl(nextOptions.url);\n      }\n    },\n\n    getInstOptions() {\n      return {\n        url: this.decodeUrl ? decodeURI(this.url) : this.url\n      };\n    }\n  };\n  /* Bind TileLayer behavior */\n  /** @polymerBehavior */\n  PxMapBehavior.TileLayer = [\n    PxMapBehavior.Layer,\n    PxMapBehavior.TileLayerImpl\n  ];\n})();\n"]}